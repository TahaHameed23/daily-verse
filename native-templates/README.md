# Native Widget Templates

This folder contains backup copies of custom Android widget files that need to be manually restored after running `expo prebuild`.

## Important Files

### Widget Implementation
- **QuranWidgetProvider.kt** - Main widget provider class
- **QuranWidgetModule.kt** - React Native bridge module  
- **QuranWidgetPackage.kt** - Module package registration

### Widget Resources
- **quran_widget.xml** - Widget layout file
- **quran_widget_info.xml** - Widget configuration file
- **widget_background.xml** - Widget background drawable
- **widget_preview.xml** - Widget preview drawable

## Restoration Process

After cloning the repository:

1. Install dependencies:
   ```bash
   npm install
   ```

2. Run Expo prebuild:
   ```bash
   expo prebuild
   ```

3. Copy widget files from this folder to their proper locations:
   ```bash
   # Copy Kotlin files
   cp native-templates/android/java/*.kt android/app/src/main/java/com/quranwidget/app/
   
   # Copy layout files
   cp native-templates/android/res/quran_widget.xml android/app/src/main/res/layout/
   cp native-templates/android/res/quran_widget_info.xml android/app/src/main/res/xml/
   
   # Copy drawable files
   cp native-templates/android/res/widget_*.xml android/app/src/main/res/drawable/
   ```

4. Update AndroidManifest.xml to register the widget receiver:
   ```xml
   <receiver android:name=".QuranWidgetProvider" android:exported="true">
     <intent-filter>
       <action android:name="android.appwidget.action.APPWIDGET_UPDATE"/>
       <action android:name="com.quranwidget.app.REFRESH"/>
       <action android:name="com.quranwidget.app.FAVORITE"/>
     </intent-filter>
     <meta-data android:name="android.appwidget.provider" android:resource="@xml/quran_widget_info"/>
   </receiver>
   ```

5. Add missing drawable resources for widget buttons (ic_refresh.xml, ic_favorite.xml)

6. Build the app:
   ```bash
   eas build --platform android --profile preview
   ```

## Notes

- The `android/` folder is excluded from Git because it's generated by Expo
- These templates ensure the custom widget functionality is preserved
- Always backup any changes you make to the widget implementation
